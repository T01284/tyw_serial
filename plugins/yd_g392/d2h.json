{
  "protocol_name": "新架构RS485线总线MCU节点通信协议",
  "protocol_version": "V2.01",
  "message_id": "D2h",
  "message_type": "周期响应报文",
  "message_source": "MCU",
  "fields": [
    {
      "name": "母线电压",
      "id": "B0[0:7]",
      "byte_position": 0,
      "bit_position": null,
      "type": "Unsigned",
      "length": 1,
      "precision": 1,
      "offset": 0,
      "unit": "V",
      "min_value": 0,
      "max_value": 250,
      "min_hex": "0x0",
      "max_hex": "0xFA",
      "default_hex": "0xFF",
      "invalid_hex": "0xFF",
      "description": "-"
    },
    {
      "name": "母线电流",
      "id": "B1[0:7]",
      "byte_position": 1,
      "bit_position": null,
      "type": "Unsigned",
      "length": 1,
      "precision": 1,
      "offset": -50,
      "unit": "A",
      "min_value": -50,
      "max_value": 200,
      "min_hex": "0x0",
      "max_hex": "0xFA",
      "default_hex": "0xFF",
      "invalid_hex": "0xFF",
      "description": "对外放电为正"
    },
    {
      "name": "电机档位",
      "id": "B2[0:2]",
      "byte_position": 2,
      "bit_position": [0, 1, 2],
      "type": "Unsigned",
      "length": 1,
      "precision": 1,
      "offset": 0,
      "unit": "-",
      "min_value": 0,
      "max_value": 7,
      "min_hex": "0x0",
      "max_hex": "0x7",
      "default_hex": "0x7",
      "invalid_hex": "0x7",
      "description": "-",
      "values": [
        {"value": "0x0", "description": "0h"},
        {"value": "0x1", "description": "1h"},
        {"value": "0x2", "description": "2h"},
        {"value": "0x3", "description": "3h"},
        {"value": "0x4", "description": "4h"},
        {"value": "0x5", "description": "5h"},
        {"value": "0x6", "description": "6h"},
        {"value": "0x7", "description": "7h"}
      ]
    },
    {
      "name": "电自主回路电压异常",
      "id": "B2[3]",
      "byte_position": 2,
      "bit_position": [3],
      "type": "Unsigned",
      "length": 1,
      "precision": 1,
      "offset": 0,
      "unit": "-",
      "min_value": 0,
      "max_value": 1,
      "min_hex": "0x0",
      "max_hex": "0x1",
      "default_hex": "0x1",
      "invalid_hex": null,
      "description": "电自主回路电压过压",
      "values": [
        {"value": "0x0", "description": "过压（未过压）"},
        {"value": "0x1", "description": "正常"}
      ]
    },
    {
      "name": "电机转速",
      "id": "B3:B4",
      "byte_position": [3, 4],
      "bit_position": null,
      "type": "Unsigned",
      "length": 2,
      "precision": 1,
      "offset": 0,
      "unit": "rpm",
      "min_value": 0,
      "max_value": null,
      "min_hex": "0x0",
      "max_hex": "0x27FF",
      "default_hex": null,
      "invalid_hex": null,
      "description": "-"
    },
    {
      "name": "电机扭矩",
      "id": "B5:B6",
      "byte_position": [5, 6],
      "bit_position": null,
      "type": "Unsigned",
      "length": 2,
      "precision": 0.01,
      "offset": 0,
      "unit": "Nm",
      "min_value": 0,
      "max_value": null,
      "min_hex": "0x0",
      "max_hex": "0x0DF8",
      "default_hex": null,
      "invalid_hex": null,
      "description": "-"
    },
    {
      "name": "电机温度",
      "id": "B8",
      "byte_position": 8,
      "bit_position": null,
      "type": "Unsigned",
      "length": 1,
      "precision": 1,
      "offset": -40,
      "unit": "℃",
      "min_value": -40,
      "max_value": 150,
      "min_hex": "0x0",
      "max_hex": "0xBE",
      "default_hex": "0x0",
      "invalid_hex": "0xFF",
      "description": "℃"
    },
    {
      "name": "电池电量百分比(SOC)",
      "id": "B21",
      "byte_position": 21,
      "bit_position": null,
      "type": "Unsigned",
      "length": 1,
      "precision": 0.5,
      "offset": 0,
      "unit": "1%",
      "min_value": 0,
      "max_value": 100,
      "min_hex": "0x0",
      "max_hex": "0xC8",
      "default_hex": "0xFF",
      "invalid_hex": "0xFF",
      "description": "根据MCU集成SOC类型集成SOC的MCU发送实际值，非集成SOC发送无效值FFh"
    },
    {
      "name": "车速挡位",
      "id": "B26[0:2]",
      "byte_position": 26,
      "bit_position": [0, 1, 2],
      "type": "Unsigned",
      "length": 1,
      "precision": 1,
      "offset": 0,
      "unit": "-",
      "min_value": 0,
      "max_value": 7,
      "min_hex": "0x0",
      "max_hex": "0x7",
      "default_hex": "0x0",
      "invalid_hex": "0x7",
      "description": "-",
      "values": [
        {"value": "0x0", "description": "0挡（助力推行）"},
        {"value": "0x1", "description": "1挡（ECO）经济模式"},
        {"value": "0x2", "description": "2挡（normal）"},
        {"value": "0x3", "description": "3挡（Sport）"},
        {"value": "0x4", "description": "4挡（自定义模式）"},
        {"value": "0x5", "description": "Reserved"},
        {"value": "0x6", "description": "Reserved"},
        {"value": "0x7", "description": "void"}
      ]
    },
    {
      "name": "充电器接入状态",
      "id": "B35[4:7]",
      "byte_position": 35,
      "bit_position": [4, 5, 6, 7],
      "type": "Unsigned",
      "length": 1,
      "precision": 1,
      "offset": 0,
      "unit": "-",
      "min_value": 0,
      "max_value": 7,
      "min_hex": "0x0",
      "max_hex": "0x7",
      "default_hex": "0x7",
      "invalid_hex": "0x7",
      "description": "-",
      "values": [
        {"value": "0x0", "description": "充电器未连接未充电"},
        {"value": "0x1", "description": "充电器已连接未开始充电"},
        {"value": "0x2", "description": "充电器已连接充电器充电中"},
        {"value": "0x3", "description": "充电器已连接充电器充电完成"},
        {"value": "0x4", "description": "Reserved"},
        {"value": "0x5", "description": "Reserved"},
        {"value": "0x6", "description": "Reserved"},
        {"value": "0x7", "description": "void"}
      ]
    }
  ],
  "message_format": {
    "start_bytes": ["0x59", "0x44"],
    "message_id": "0xD2",
    "data_length": "0x24",
    "end_bytes": ["0x4B", "0x4A"],
    "checksum": "CRC16-modbus"
  }
}